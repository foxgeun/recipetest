<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<div layout:fragment="content">

	<th:block layout:fragment="css">

		<link rel="stylesheet" href="/css/category.css">

	</th:block>
	
	<div class="site-section mt-5 mb-5">
	<div class="container">
		<div class="thmb_list02 pt60">
		        <nav id="topMenu" >
                <ul>
                        <li><a class="menuLink" href="#">About us</a></li>
                        <li><a class="menuLink" href="#">Ministries</a></li>
                        <li><a class="menuLink" href="#">Community</a></li>
                        <li><a class="menuLink" href="#">Locations</a></li>
                        <li><a class="menuLink" href="#">Blog</a></li>
                </ul>
        </nav>
		<div class="search_sort">
			<p>검색결과 <strong></strong>건 조회</p>
			<ul class="sort_util">
				<li class="active" id="order"><a href="/category?type=order">최신순</a></li>
				<li class="active" id="best"><a href="/category?type=best">조회순</a></li>
			</ul>		
				<input type="hidden" th:value="${recipeSearchDto.type}" id="type"> 
		</div>			
		<div class="list_area">
						
			<th:block th:each="recipe , status:${RecipeList}">
			<div class="item">
				<div class="thmb">
					<a th:href="'/recipe/' + ${recipe.id}">
					<div class="img">
					<div class="scale">
					<img th:src="${recipe.imageUrl}" alt="레시피명">
					<div class="back">
						
						<p>조회수 : [[${recipe.count}]] </p> <p> 북마크수 : </p>
										
					</div> 
					</div>
					</div>
						
					</a>
					
				</div>
				<div class="info">
					<div class="info_tag">
					
					<span>[[${recipe.subTitle}]]</span>
					
					</div>
					<div class="info_title ellip"> <p>[[${recipe.title}]]</p></div>
					<div class="info_title ellip challange"> <p>난이도 : [[${recipe.level}]]</p> <p>소요시간 : [[${recipe.durTime}]]</p>  </div>
				</div>
			</div>
			</th:block>
			
		</div>
		</div>
    	
	</div>
</div>
	
	
</div>



<th:block layout:fragment="script">
	<script th:inline="javascript">
		
	function page(page) {
		//입력한 값을 전부 가지고 온다.
		
		var mainCategory = $("#mainCategory").val();
		var subCategory = $("#subCategory").val();
		var type = $("#type").val();
		var searchBy = $("#searchBy").val();
		var searchQuery = $("#searchQuery").val();

		//주소 이동
		location.href = "/category/" + page + "?type=" + type 
				+ "&mainCategory=" + mainCategory 
				+ "&subCategory=" + subCategory
				+ "&searchBy=" + searchBy
				+ "&searchQuery=" + searchQuery;
	}
		
	
	
	</script>
	</th:block>


</html>