<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
<meta name="description" content="Yoga Studio Template" />
<meta name="keywords" content="Yoga, unica, creative, html" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Yummy | Template</title>

<link rel="stylesheet"
	th:href="@{https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/minty/bootstrap.min.css}"
	integrity="sha384-H4X+4tKc7b8s4GoMrylmy2ssQYpDHoqzPa9aKXbDwPoPUA3Ra8PA5dGzijN+ePnH"
	crossorigin="anonymous" />
<link rel="stylesheet" th:href="@{/css/bootstrap.css}" type="text/css" />

<link
	th:href="@{https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css}"
	rel="stylesheet" />

<style>
.upload-icon {
	cursor: pointer;
	position: relative;
	width: 100px;
	height: 100px;
	border: 1px solid #d9d9d9;
	border-radius: 50%;
	background-image: url(img/images.jpg);
	background-size: cover;
	background-position: center;
}

.circle {
	position: absolute;
	width: 98px;
	height: 99px !important;
	background-color: #34343478;
	border-radius: 50%;
	z-index: 0;
	clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
	transform: scale(-1);
}

.upload-icon svg {
	display: block;
	margin: 0 auto;
	transform: scale(-1);
	margin-top: 9px;
	height: 20px;
}

* {
	font-family: "SUIT", sans-serif !important;
}

.mypage-list {
	margin-bottom: 7px !important;
	border: none !important;
	border-radius: 0 !important;
	display: flex !important;
	justify-content: center !important;
	font-size: 15px;
}

.mypage-top {
	border: 1px solid #adb5bd !important;
	width: 120px !important;
	margin-right: 10px;
	margin-bottom: 0px !important;
	border-bottom: 0 !important;
	top: 1px;
	border-radius: 0 !important;
	display: flex !important;
	justify-content: center;
}

.mypage-content {
	display: flex;
	margin-top: 100px;
	margin-bottom: 50px;
	flex-direction: column;
	align-items: center;
}

.mypage-content-logo {
	width: 160px;
	margin-bottom: 40px;
}

/* 선택된 메뉴에 적용될 스타일 */
.mypage-list.active {
	background-color: #f8f9fa; /* 원하는 색상으로 변경 */
	font-weight: bold; /* 선택된 메뉴를 강조하기 위한 스타일 */
}
</style>

<!-- Google Font -->
<link
	th:href="@{https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap}"
	rel="stylesheet" />

<!-- Css Styles -->
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"
	type="text/css" />
<link rel="stylesheet" th:href="@{/css/font-awesome.min.css}"
	type="text/css" />
<link rel="stylesheet" th:href="@{/css/nice-select.css}" type="text/css" />
<link rel="stylesheet" th:href="@{/css/slicknav.min.css}"
	type="text/css" />
<link rel="stylesheet" th:href="@{/css/style.css}" type="text/css" />
</head>

<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header Section Begin -->
	<header class="header-section-other">
		<div class="container-fluid">
			<div class="logo">
				<a href="./index.html"><img src="img/little-logo.png" alt="" /></a>
			</div>
			<div class="nav-menu">
				<nav class="main-menu mobile-menu">
					<ul>
						<li class="active"><a href="#">Home</a></li>
						<li><a href="#">Pages</a>
							<ul class="sub-menu">
								<li><a href="about-me.html">About Me</a></li>
								<li><a href="categories.html">Categories</a></li>
								<li><a href="recipe.html">Recipe</a></li>
								<li><a href="blog.html">Blog</a></li>
								<li><a href="contact.html">Contact</a></li>
							</ul></li>
						<li><a href="recipe.html">Recipes</a></li>
						<li><a href="categories.html">Best Of</a></li>
						<li><a href="contact.html">Contact</a></li>
					</ul>
				</nav>
				<div class="nav-right search-switch">
					<i class="fa fa-search"></i>
				</div>
			</div>
			<div id="mobile-menu-wrap"></div>
		</div>
	</header>
	<!-- Header End -->

	<!-- Hero Search Section Begin -->
	<div class=""
		style="border-radius: 20px; overflow: hidden; border: 7px solid #ffffff; position: relative;">
		<div
			style="background-image: url(/img/search-bg.jpg); height: 250px; background-repeat: no-repeat; background-size: cover; background-position: top center; border-radius: 30px 30px 0 0;"
			class="container">
			<div class=""
				style="display: flex; justify-content: flex-end; align-items: center; flex-direction: row; padding-top: 24px; margin-right: 30px;">
				<div
					style="margin-left: 10px; display: flex; align-items: center; flex-direction: column;">
					<div
						style="background-image: url(/img/아이콘.png); background-size: cover; background-position: center; height: 45px; width: 80px;">
						<p
							style="font-size: 17px; color: #000000; display: flex; justify-content: center; align-items: center; margin-left: 23px; font-weight: 700;">
							1</p>
					</div>
					<p style="color: #ffff">팔로워</p>
				</div>
				<div
					style="margin-left: 10px; display: flex; align-items: center; flex-direction: column;">
					<div
						style="background-image: url(/img/아이콘.png); background-size: cover; background-position: center; height: 45px; width: 80px;">
						<p
							style="font-size: 17px; color: #000000; display: flex; justify-content: center; align-items: center; margin-left: 23px; font-weight: 700;">
							1</p>
					</div>
					<p style="color: #ffff">팔로잉</p>
				</div>
			</div>
		</div>
		<div
			th:style="'position: absolute; left: 50%; bottom: 17%; transform: translateX(-50%); width: 180px; height: 180px; background-color: #ffffff; border-radius: 50%; border: 7px solid #e9ecef; background-image: url(' + ${myPageDto.imgUrl}  + '); background-size: cover; background-position: center;'"></div>
		<div
			style="height: 113px; background-color: #ffff; display: flex; justify-content: center; align-items: flex-end; border-radius: 0 0 30px 30px; border: 1px solid #adb5bd;"
			class="container">
			<div class="col-10"
				style="display: flex; justify-content: center; align-items: center; flex-direction: column; top: 10px;">
				<div style="">
					<h4 style="font-weight: 700">짱구님</h4>
				</div>
				<div style="">
					<p style="border-bottom: 1px solid #bdbdbd" th:text="${myPageDto.introduce}">소개</p>
				</div>
			</div>
		</div>
	</div>
	<!-- Hero Search Section End -->

	<!-- Contact Section Begin -->

	<section class="contact-section spad">
		<div class="container" style="display: flex">
			<div class="col-3">
				<div class="col-lg-12" style="top: 30px">
					<div>
						<p
							style="display: flex; justify-content: center; font-size: 20px; font-weight: 600; padding-bottom: 12px; padding-top: 15px; border-bottom: 3px solid #858585b8;">
							MY PAGE</p>
					</div>
<div class="list-group list-group-light" style="padding-bottom: 40px; border-bottom: 3px solid #959595 !important;">
    <a onclick="showContent('recipe')" class="list-group-item list-group-item-action list-group-item-light mypage-list mypage-list.active" style="font-size: 15px; cursor: pointer"> 레시피</a>
    <a onclick="showContent('favorite')" class="list-group-item list-group-item-action list-group-item-light mypage-list" style="font-size: 15px; cursor: pointer"> 찜한 레시피</a>
    <a onclick="showContent('comments')" class="list-group-item list-group-item-action list-group-item-light mypage-list" style="font-size: 15px; cursor: pointer"> 댓글</a>
    <a onclick="showContent('reviews')" class="list-group-item list-group-item-action list-group-item-light mypage-list" style="font-size: 15px; cursor: pointer"> 요리후기</a>
    <a onclick="showContent('edit')" class="list-group-item list-group-item-action list-group-item-light mypage-list" style="font-size: 15px; cursor: pointer"> 회원 정보 수정</a>
</div>
				</div>
			</div>
			<div class="col-9" id="content" >
<div id="recipe" class="content" style="display: none;">
 <div
                  style="
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    border-bottom: 1px solid #adb5bd;
                  "
                >
                  <div style="display: flex; align-items: center">
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      공개중</a
                    >
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      작성중</a
                    >
                  </div>
                  <div
                    style="display: flex; flex-direction: row; align-items: center"
                  >
                    <div style="">
                      <a>최신순</a>
                      <a>조회순</a>
                      <a>스크랩순</a>
                    </div>
                  </div>
                </div>
                <div class="mypage-content">
                  <img class="mypage-content-logo" src="/img/test1.png" />
                  <div
                    style="display: flex; flex-direction: column; align-items: center"
                  >
                    <p style="font-size: 24px; font-weight: 800; margin-bottom: 5px">
                      레시피를 직접 올려보세요!
                    </p>
                    <p style="font-size: 15px; font-weight: 500">
                      자랑하고 싶은 나만의 레시피! 공유하고 싶은 멋진 레시피를 올려
                      주세요.
                    </p>
                  </div>
                </div>
</div>

<div id="favorite" class="content" style="display: none;">
    <div
                  style="
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    border-bottom: 1px solid #adb5bd;
                  "
                >
                  <div style="display: flex; align-items: center">
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      공개중</a
                    >
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      작성중</a
                    >
                  </div>
                  <div
                    style="display: flex; flex-direction: row; align-items: center"
                  >
                    <div style="">
                      <a>최신순</a>
                      <a>조회순</a>
                      <a>스크랩순</a>
                    </div>
                  </div>
                </div>
                <div class="mypage-content">
                  <img class="mypage-content-logo" src="/img/test2.png" />
                  <div
                    style="display: flex; flex-direction: column; align-items: center"
                  >
                    <p style="font-size: 24px; font-weight: 800; margin-bottom: 5px">
                      찜한 레시피가 없습니다.

                    </p>
                    <p style="font-size: 15px; font-weight: 500">
                      관심있는 레시피를  추가해보세요.
                    </p>
                  </div>
                </div>
</div>

<div id="comments" class="content" style="display: none;">
   <div
                  style="
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    border-bottom: 1px solid #adb5bd;
                  "
                >
                  <div style="display: flex; align-items: center">
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      공개중</a
                    >
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      작성중</a
                    >
                  </div>
                  <div
                    style="display: flex; flex-direction: row; align-items: center"
                  >
                    <div style="">
                      <a>최신순</a>
                      <a>조회순</a>
                      <a>스크랩순</a>
                    </div>
                  </div>
                </div>
                <div class="mypage-content">
                  <img class="mypage-content-logo" src="/img/test3.svg" />
                  <div
                    style="display: flex; flex-direction: column; align-items: center"
                  >
                    <p style="font-size: 24px; font-weight: 800; margin-bottom: 5px">
                      받은 댓글이 없습니다.


                    </p>
                    <p style="font-size: 15px; font-weight: 500">
                      질문이나 의견이 달리면 답글을 남겨주세요.
      요리가 어려운 분들께 큰 도움이 됩니다.
                    </p>
                  </div>
                </div>
</div>

<div id="reviews" class="content" style="display: none;">
    <div
                  style="
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    border-bottom: 1px solid #adb5bd;
                  "
                >
                  <div style="display: flex; align-items: center">
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      공개중</a
                    >
                    <a
                      href="#"
                      class="list-group-item list-group-item-action list-group-item-light mypage-top"
                      style=""
                    >
                      작성중</a
                    >
                  </div>
                  <div
                    style="display: flex; flex-direction: row; align-items: center"
                  >
                    <div style="">
                      <a>최신순</a>
                      <a>조회순</a>
                      <a>스크랩순</a>
                    </div>
                  </div>
                </div>
                <div class="mypage-content">
                  <img class="mypage-content-logo" src="/img/test4.svg" />
                  <div
                    style="display: flex; flex-direction: column; align-items: center"
                  >
                    <p style="font-size: 24px; font-weight: 800; margin-bottom: 5px">
                      직접 요리해보셨나요?
      요리후기를 올려주세요 !


                    </p>
                    <p style="font-size: 15px; font-weight: 500">

                    </p>
                  </div>
                </div>
</div>

 <div id="edit" class="content" style="display: none;">
    <div>
                            <div style="
          border-bottom: 1px solid #dee2e6;
          display: flex;
          flex-direction: column;
          align-items: center;
      "><p style="
          font-size: 28px;
          font-weight: 500;
      ">| EDIT PROFILE |</p><p style="
          font-size: 15px;
          font-weight: 500;
      ">회원정보 수정</p></div>
                            <div></div>
                            </div>
 
 <fieldset>
       <form  role="form" th:action="@{'/myPage/' + ${myPageDto.id}}"   method="post"  enctype="multipart/form-data" name="memberForm"
        	th:object="${myPageDto}">
	
      
      
      <div><p>프로필 사진<p/><div>
      <label id="imagePreviewLabel" for="fileInput"class="upload-icon" th:style="'background-image: url(' + ${myPageDto.imgUrl} +')'">

     <div class="circle" >
    
      <svg class="fas fa-cloud-upload-alt" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.<style>svg{fill:#ffffff}</style><path d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg>
      </div>
      </label>
    <input  onchange="updateImagePreview(event);"  class="form-control" type="file" id="fileInput" name="imgFile" style="display:none;">
  </div>
<div class="form-group">
    <label class="col-form-label mt-4" for="nickname">닉네임</label>
    <input th:field="${myPageDto.nickname}" type="text" class="form-control" id="nickname" style="width:315px;" onblur="checkNicknameAvailability()">
</div>
<div id="nicknameFeedback" class="form-group">
          <div class="form-group has-success" style="display:none;">
        <label class="form-label mt-4" for="inputValid"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">유효한 입력</font></font></label>
        <input type="text" value="correct value" class="form-control is-valid" id="inputValid">
        <div class="valid-feedback"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">성공! </font><font style="vertical-align: inherit;">해냈습니다.</font></font></div>
      </div>
      <div class="form-group has-danger"  style="display:none;">
        <label class="form-label mt-4" for="inputInvalid"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">잘못된 입력</font></font></label>
        <input type="text" value="wrong value" class="form-control is-invalid" id="inputInvalid">
        <div class="invalid-feedback"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">죄송합니다. 해당 사용자 이름은 사용 중입니다. </font><font style="vertical-align: inherit;">다른 것을 시도하시겠습니까?</font></font></div>
      </div>
</div>
      
      <div class="form-group">
      <label class="col-form-label mt-4" for="inputDefault"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">한줄소개</font></font></label>
      <input type="text" class="form-control" placeholder="한줄소개를 등록해주세요" id="inputDefault"  th:field="${myPageDto.introduce}" >
    </div>
    
    
    
    
    
    
    

          <div class="form-group">
            <label for="exampleInputEmail1" class="form-label mt-4" >이메일</label>
            <input th:field="${myPageDto.email}" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" readonly>
            <small id="emailHelp" class="form-text text-muted">이메일은 변경이 불가합니다.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1" class="form-label mt-4">비밀번호</label>
            <input  th:field="${myPageDto.password}" type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" autocomplete="off">
          </div>



          </div>
          <div class="form-group">
            <label for="exampleTextarea" class="form-label mt-4">Example textarea</label>
            <textarea class="form-control" id="exampleTextarea" rows="3"></textarea>
            <input type="text" id="sample6_postcode" placeholder="우편번호" th:field="${myPageDto.address}">
<input type="button" onclick="sample6_execDaumPostcode()" value="우편번호 찾기" ><br>
<input type="text" id="sample6_address" placeholder="주소"><br>
<input type="text" id="sample6_detailAddress" placeholder="상세주소">
<input type="text" id="sample6_extraAddress" placeholder="참고항목">
          </div>
						<button type="submit" class="btn btn-outline-danger"
							>변경하기</button>
 
          </form>
          </fieldset>
          
</div> 
			</div>
		</div>
	</section>
	<!-- Contact Section End -->



	<!-- Similar Recipe Section Begin -->
	<section class="similar-recipe spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6">
					<div class="similar-item">
						<a href="#"><img src="/img/cat-feature/small-7.jpg" alt="" /></a>
						<div class="similar-text">
							<div class="cat-name">Vegan</div>
							<h6>Italian Tiramisu with Coffe</h6>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="similar-item">
						<a href="#"><img src="/img/cat-feature/small-6.jpg" alt="" /></a>
						<div class="similar-text">
							<div class="cat-name">Vegan</div>
							<h6>Dry Cookies with Corn</h6>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="similar-item">
						<a href="#"><img src="/img/cat-feature/small-5.jpg" alt="" /></a>
						<div class="similar-text">
							<div class="cat-name">Vegan</div>
							<h6>Asparagus with Pork Loin and Vegetables</h6>
						</div>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="similar-item">
						<a href="#"><img src="img/cat-feature/small-4.jpg" alt="" /></a>
						<div class="similar-text">
							<div class="cat-name">Vegan</div>
							<h6>Smoked Salmon mini Sandwiches with Onion</h6>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Similar Recipe Section End -->

	<!-- Footer Section Begin -->

	<!-- Footer Section End -->

	<!-- Search model -->
	<div class="search-model">
		<div class="h-100 d-flex align-items-center justify-content-center">
			<div class="search-close-switch">+</div>
			<form class="search-model-form">
				<input type="text" id="search-input" placeholder="Search here....." />
			</form>
		</div>
	</div>
	<!-- Search model end -->

	<!-- Js Plugins -->
	<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/jquery.slicknav.js}"></script>
	<script th:src="@{/js/jquery.nice-select.min.js}"></script>
	<script th:src="@{/js/mixitup.min.js}"></script>
	<script th:src="@{/js/main.js}"></script>
	<script th:src="@{//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js}"></script>

	<script th:inline="javascript">
    function showContent(contentId) {
        $('.content').hide();
        $('#' + contentId).show();

        $('.mypage-list').removeClass('mypage-list.active');
        $('.mypage-list[data-menu="' + contentId + '"]').addClass('mypage-list.active');
    }
    
    function updateImagePreview(event) {
        const fileInput = event.target;
        const label = document.getElementById("imagePreviewLabel");

        if (fileInput.files && fileInput.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                label.style.backgroundImage = `url(${e.target.result})`;
            };
            reader.readAsDataURL(fileInput.files[0]);
        }
    }
    
    function checkNicknameAvailability() {
        const nicknameInput = document.getElementById("nickname");
        const nickname = nicknameInput.value;
        const nicknameFeedback = document.getElementById("nicknameFeedback");

        // Make an AJAX request to the server to check nickname availability
        // You can use libraries like Axios or jQuery for the AJAX request

        // Simulate a response from the server
        const isAvailable = true; //Replace with actual response from the server

        if (isAvailable) {
            nicknameInput.classList.remove("is-invalid");
            nicknameInput.classList.add("is-valid");
            nicknameFeedback.innerHTML = `
                <div class="valid-feedback">
                    성공! 사용 가능한 닉네임입니다.
                </div>`;
        } else {
            nicknameInput.classList.remove("is-valid");
            nicknameInput.classList.add("is-invalid");
            nicknameFeedback.innerHTML = `
                <div class="invalid-feedback">
                    죄송합니다. 해당 닉네임은 이미 사용 중입니다. 다른 것을 시도하시겠습니까?
                </div>`;
        }
    }
    // 아래 함수를 호출하여 주소 정보를 입력 폼에 설정합니다.
    function fillAddressFields(addressData) {
        document.getElementById('sample6_postcode').value = addressData.zonecode;
        document.getElementById('sample6_roadAddress').value = addressData.roadAddress;
        document.getElementById('sample6_jibunAddress').value = addressData.jibunAddress;
        
        // 예상 도로명 주소 또는 예상 지번 주소
        var guideTextBox = document.getElementById("guide");
        if (addressData.autoRoadAddress) {
            guideTextBox.innerHTML = '(예상 도로명 주소: ' + addressData.autoRoadAddress + ')';
            guideTextBox.style.display = 'block';
        } else if (addressData.autoJibunAddress) {
            guideTextBox.innerHTML = '(예상 지번 주소: ' + addressData.autoJibunAddress + ')';
            guideTextBox.style.display = 'block';
        } else {
            guideTextBox.innerHTML = '';
            guideTextBox.style.display = 'none';
        }
    }
    
    function sample6_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    document.getElementById("sample6_extraAddress").value = extraAddr;
                
                } else {
                    document.getElementById("sample6_extraAddress").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('sample6_postcode').value = data.zonecode;
                document.getElementById("sample6_address").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("sample6_detailAddress").focus();
            }
        }).open();
    }
    </script>
</body>
</html>